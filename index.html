<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kainaat Ambassador Session Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/image" href="favicon.jpg">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2d3748;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeIn 0.6s ease-in;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #e53e3e;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            color: #4a5568;
            font-size: 1.1rem;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
            animation: slideUp 0.5s ease-out;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #e53e3e;
            font-size: 0.95rem;
        }

        .form-group select,
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }

        .form-group select:focus,
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #e53e3e;
            box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .btn {
            width: 100%;
            padding: 14px 24px;
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
            color: white;
            border: none;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(229, 62, 62, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(229, 62, 62, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            box-shadow: none;
        }

        .output-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .output-section.visible {
            display: block;
        }

        .output-box {
            margin-bottom: 24px;
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .output-content h1, h2, h3 {
            color: #e53e3e;
            font-size: 1.3rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .output-content hr {
            border: none;
            border-top: 2px solid #e2e8f0;
            margin: 1.5rem 0;
        }
       

        .copy-btn {
            padding: 8px 16px;
            background: #f7fafc;
            color: #e53e3e;
            border: 2px solid #e53e3e;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: #e53e3e;
            color: white;
        }

        .output-content {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            font-size: 0.95rem;
            line-height: 1.45;
        }

        /* Tighter spacing for rendered markdown inside output boxes */
        .output-content p {
            margin: 0 0 0.9rem 0;
        }

        .output-content ul,
        .output-content ol {
            margin: 0 0 1.5rem 1.5rem;
            padding: 0;
        }

        .output-content li {
            margin: 0.25rem 0;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #e53e3e;
            font-size: 1.1rem;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #e53e3e;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .card {
                padding: 20px;
            }

            .output-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌌 Kainaat Ambassador Session Generator</h1>
            <p>Create engaging space & science session plans powered by AI</p>
        </div>

        <div class="card">
            <form id="sessionForm">
                <div class="form-group">
                    <label for="videoSelect">Select YouTube Video</label>
                    <select id="videoSelect" required>
                        <option value="">-- Choose a video --</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ageGroup">Audience Grade</label>
                        <input type="text" id="ageGroup" placeholder="e.g., Grades 6-12" required>
                    </div>

                    <div class="form-group">
                        <label for="sessionDuration">Session Duration (minutes)</label>
                        <input type="number" id="sessionDuration" placeholder="e.g., 45" min="1" required>
                    </div>

                    <div class="form-group">
                        <label for="activityDuration">Activity Duration (minutes)</label>
                        <input type="number" id="activityDuration" placeholder="e.g., 15" min="1" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="additionalNotes">Additional Notes (Optional)</label>
                    <textarea id="additionalNotes" placeholder="Any specific requirements or preferences..."></textarea>
                </div>

                <button type="button" class="btn" id="generateBtn1" onclick="generateSessionBlueprint()">
                    Generate Session Blueprint
                </button>

                <button type="button" class="btn hidden" id="generateBtn2" onclick="generatePresentationOutline()">
                    Generate Presentation Outline
                </button>

                <button type="button" class="btn hidden" id="generateBtn3" onclick="generateActivityOutline()">
                    Generate Activity Plan
                </button>
            </form>
        </div>

        <div id="output1" class="output-section">
            <div class="card">
                <div class="output-box">
                    <div class="output-header">
                        <h3>📋 Session Blueprint / Lesson Plan</h3>
                        
                            <div style="display:flex; gap:8px;">
                                <button class="copy-btn" onclick="copyToClipboard('blueprint')">Copy</button>
                                <button class="copy-btn" onclick="regenerateBlueprint()">Regenerate</button>
                            </div>
                    </div>
                    <p style = "font-weight: bold; margin-bottom: 1rem; margin-top: 1.5rem;">The Presentation Outline and the Activity Plan below depends on this Lesson Plan. Regenerating the Lesson plan will remove the Presentation Outline and the Activity Plan below, and you'll need to regenerate them as well.</p>

                    <div id="blueprintContent" class="output-content"></div>
                </div>
            </div>
        </div>

        <div id="output2" class="output-section">
            <div class="card">
                <div class="output-box">
                    <div class="output-header">
                        <h3>📊 Presentation Slide Outline</h3>
                            <div style="display:flex; gap:8px;">
                                <button class="copy-btn" onclick="copyToClipboard('slides')">Copy</button>
                                <button class="copy-btn" onclick="regenerateSlides()">Regenerate</button>
                            </div>
                    </div>
                    <div id="slidesContent" class="output-content"></div>
                </div>
            </div>
        </div>

        <div id="output3" class="output-section">
            <div class="card">
                <div class="output-box">
                    <div class="output-header">
                        <h3>🎯 Activity Plan</h3>
                            <div style="display:flex; gap:8px;">
                                <button class="copy-btn" onclick="copyToClipboard('activity')">Copy</button>
                                <button class="copy-btn" onclick="regenerateActivity()">Regenerate</button>
                            </div>
                    </div>
                    <p style = "font-weight: bold; margin-bottom: 1rem; margin-top: 1.5rem;">Feel free to regenerate if the resources required for the generated activity won't be readily available in your school, or if the activity has any other complications</p>

                    <div id="activityContent" class="output-content"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script>
        
        // Your Gemini API Key
        const GEMINI_API_KEY = 'AIzaSyC0IUdSlX0aviobF4T-buKp1q-ISF94pbA';
        
        // Helper function to call Gemini API (following documentation pattern)
        async function callGeminiAPI(prompt) {
            const response = await fetch(
                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${GEMINI_API_KEY}`,
                {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                }
            );
            const data = await response.json();
            let markdownText = data.candidates[0].content.parts[0].text || '';

            // Normalize: collapse more than one consecutive blank line to a single blank line
            markdownText = markdownText.replace(/(\n\s*){3,}/g, '\n\n');

            // Convert to HTML
            let html = marked.parse(markdownText || '');

            // Remove empty paragraph tags that browsers may render with extra spacing
            try {
                const tmp = document.createElement('div');
                tmp.innerHTML = html;
                const emptyPs = tmp.querySelectorAll('p');
                emptyPs.forEach(p => {
                    if (!p.textContent.trim()) p.remove();
                });
                html = tmp.innerHTML;
            } catch (e) {
                // fallback to raw html if DOM operations fail
                console.warn('Failed to normalize HTML', e);
            }

            return html;
        }
        
        // Hard-coded video data with transcripts
        const videos = [
            {
                title: "A New Earth Next Door? James Webb’s Potential Discovery at Alpha Centauri!",
                transcript: `00:00:01.320 [संगीत]00:00:03.040 शायद हमें जो है एक सयारा मिल गया हो और00:00:07.680 हमसे मुराद ये है कि एस्ट्रोनमर्स को ये00:00:09.679 जो हमसे सबसे करीबी स्टार सिस्टम है00:00:11.840 सेंटोरी स्टार सिस्टम उसमें एक सितारे के00:00:15.440 गिर्द। तो एक दो चीजें मैं क्लेरिफाई कर00:00:18.560 दूं। पहली बात तो यह है कि आपको खाली00:00:20.960 रिमाइंडर कि एस्ट्रोनॉमर्स जो हैं 5000 से00:00:24.800 ज्यादा एग्जोनेट्स या वो सयारे जो दूसरे00:00:28.560 सितारों के गिर्द घूम रहे हैं वो दरियाफ्त00:00:30.720 कर चुके हैं। लेकिन सेंटोरी सिस्टम जो है00:00:33.600 वो हमसे सबसे करीबी सितारों का सिस्टम है।00:00:36.960 वो हमसे तकरीबन चार लाइट इयर्स के फासले00:00:39.600 पर है। यानी के उस उससे रोशनी को हम तक00:00:42.719 पहुंचने में चार साल लगते हैं। तो बहुत00:00:44.640 ज्यादा करीब नहीं लेकिन सबसे करीब है। अब00:00:48.399 इसमें तीन सितारे हैं इस स्टार सिस्टम में00:00:50.960 अल्फा सेंटोरी ए और अल्फा सेंटोरी बी। यह00:00:54.640 दोनों सूरज जैसे सितारे हैं और एक दूसरे00:00:57.440 के गिर्द वो ऑर्बिट करते हैं रिलेटिवली00:00:59.440 करीब।00:01:00.960 और फिर एक तीसरा सितारा है जिसका नाम है00:01:03.920 प्रॉक्सिमा सेंटोरी। वो हमारे सूरज से00:01:06.720 काफी छोटा उसको रेड ड्वार्फ कहते हैं और00:01:10.000 टेंपरेचर में भी उसका कम है। हमारे सूरज00:01:12.240 का जो सरफेस टेंपरेचर है वो तकरीबन 600000:01:15.119 डिग्री है। ये जो प्रॉक्सिमा सेंटोरी है00:01:17.600 वो 3 से 4000 डिग्री उसका सरफेस टेंपरेचर00:01:20.240 है। अभी तक लोगों को बहुत तलाश थी कि इस00:01:23.680 सिस्टम में सयारे हैं या नहीं। तो00:01:25.759 प्रॉक्सिमा सेंटोरी जो रेड ड्वार्फ है00:01:28.799 उसके गिर्द तो कम से कम तीन सयारे अब तक00:01:31.840 मिल चुके हैं और एक जो है वो हैबिटेबल ज़ोन00:01:34.720 में भी है और हैबिटेबल ज़ोन जो है यह वो00:01:37.040 डिस्टेंस है अपने सितारे से कि जहां पर00:01:40.479 सयारा एक लिहाज से वहां पर पानी लिक्विड00:01:44.000 फॉर्म में उस पर हो सकता है। यानी कि उसका00:01:46.399 फासला अपने सितारे से ऐसा है कि वहां पर00:01:49.280 ना तो वो जमेगा बर्फ की तरह ना ही वो00:01:52.159 इवापोरेट हो जाएगा गैसियस फॉर्म में। अब00:01:55.200 कोई गारंटी नहीं है कि खाली अगर सयारा जो00:01:57.759 है वह हैबिटेबल जोन में है इसका मतलब है00:01:59.759 कि वहां पर पानी है और इसका मतलब है कि वो00:02:03.040 हैबिटेड है। मतलब यह है कि वहां पर जिंदगी00:02:05.280 मौजूद है लेकिन चांसेस ज्यादा हैं।00:02:07.520 प्रॉक्सिमा सेंटोरी का मसला यह है क्योंकि00:02:10.399 वो छोटा है तो हैबिटेबल ज़ोन उसका टेंपरेचर00:02:13.440 क्योंकि कम है तो वो उसके अपने सितारे के00:02:16.319 ज्यादा करीब है और इस किस्म के जो रेड डअ00:02:19.280 सितारे होते हैं उसमें बहुत सारे सोलर00:02:21.200 स्टॉर्म्स होते हैं और अनस्टेबल होते हैं।00:02:24.080 एक लिहाज से एनवायरमेंट के हिसाब से तो00:02:26.319 अगर आप उससे करीब हो तो शायद वहां पर00:02:28.959 जिंदगी ना मौजूद हो। यह हमें पता नहीं कि00:02:32.319 कितनी कॉमन है जिंदगी क्योंकि हमारी00:02:34.480 जिंदगी यहां पर जमीन के अलावा हमारे पास00:02:36.959 इसकी कोई और मिसाल नहीं। इस वजह से बहुत00:02:41.120 तलाश थी कि क्या ये जो सेंटोरी स्टार00:02:44.400 सिस्टम है अल्फा सेंटोरी ए और बी क्या00:02:47.120 वहां पर सयारे हैं या नहीं। और अब लगता यह00:02:51.680 है कि पहली दफा क्लेम्स तो पहले भी आए हैं00:02:54.720 लेकिन लगता है कि शायद सयारा दरियाफ्त हुआ00:02:57.360 है अल्फा सेंटोरी ए के गिर्द और इसकी मैं00:03:01.200 कुछ प्रॉपर्टीज भी आपको बताता चलूं कि यह00:03:03.920 जो सयारा है पहली बात तो यह है कि यह00:03:06.239 दरियाफ्त किया है जेम्स वेब स्पेस00:03:08.800 टेलिस्कोप ने मुख्तलिफ तरीके हैं दरियाफ्त00:03:11.280 करने के इसके सिलसिले में आप एक और वीडियो00:03:13.760 देखें बल्कि एक्सोप्लेनेट्स के बारे में00:03:15.200 कई काफी सारी गपशपें मैंने की है आप वो00:03:17.760 चेक आउट करें लेकिन यह डायरेक्ट इमेजिंग00:03:20.640 से है जो मुश्किल है क्योंकि सितारा जो है00:03:24.080 वो बहुत ब्राइट होता है। आप उसके गिर्द एक00:03:26.879 बहुत ही मध्यम सा सयारा तलाश कर रहे हैं00:03:29.200 तो उसको डिटेक्ट करना जो है मुश्किल काम00:03:31.360 है। तो जेम्स वेब स्पेस टेलिस्कोप में एक00:03:33.840 चीज कहलाती है क्रोनोग्राफ। वो बेसिकली00:03:36.640 सितारे की रोशनी को वो ब्लॉक करती है। तो00:03:39.360 आप चेक कर सकते हैं कि उसके पास आपको कोई00:03:41.440 डॉट सा नजर आ रहा है या नहीं। एक लिहाज से00:03:43.599 आप इसको कह सकते हैं कि वो एक इक्लिप्स कर00:03:46.159 देती है ताकि आप उसके बराबर का सयारा देख00:03:48.560 सकें अगर सयारा मौजूद है। राइट? और यह00:03:51.840 बहुत मुश्किल टेक्निक है। लेकिन अगस्त00:03:55.360 2024 अगस्त 2024 में एस्ट्रोनमर्स ने00:03:57.920 गालिबन इसको डिटेक्ट किया और उन्होंने00:04:00.480 बहुत कोशिश की कि इसको वो एक्सप्लेन अवे00:04:03.040 कर सके। मतलब यह ख्याल ये था कि शायद00:04:05.599 क्योंकि आपको तो खाली वो डॉट सा नजर आ रहा00:04:08.159 है। तो हो सकता है कि वो बैकग्राउंड की00:04:10.159 कैकशा हो। बैकग्राउंड की कोई गैलेक्सी हो00:04:12.560 और आपको वो उस सितारे के करीब हो तो00:04:15.280 उन्होंने चेक किया कि नहीं यह भी नहीं यह00:04:17.199 भी हो सकता है कि बहुत ही फोरग्राउंड में00:04:18.880 कोई एस्ट्रॉइड है जो हमारे अपने निजामे00:04:21.199 शमसी में है और वो उसके आगे आ रहा है तो00:04:24.000 पता चला कि वो भी नहीं तो एस्ट्रोनमर्स का00:04:26.639 ख्याल यह है कि यह एक ऐसा सयारा है जो00:04:30.960 सैटर्न के जैसा मादा है उसमें रेडियस जो00:04:34.400 है उसका वो जुपिटर जैसा है और वो गैसियस00:04:37.199 जांट है मगर वो उसके हैबिट बल ज़ोन में है।00:04:41.520 ख्याल यह है कि वो अल्फा सेंटोरी ए से00:04:44.000 तकरीबन हमारा जो सूरज और सितारे हमारा00:04:46.639 हमारा जो सूरज और जमीन का डिस्टेंस है00:04:48.479 इसको एस्ट्रोनमर्स कहते हैं एस्ट्रोनॉमिकल00:04:50.880 यूनिट। ठीक है? तकरीबन ये जो है वो 15000:04:55.120 मिलियन किलोमीटर जितना है। तो उसको वन00:04:57.600 एस्ट्रोनॉमिकल यूनिट कहते हैं। तो ये जो00:04:59.280 सयारा है वो ख्याल ये है कि वो एक से दो00:05:02.320 एस्ट्रोनॉमल यूनिट के दरमियान में है। और00:05:05.120 ख्याल यह है कि इसका इलिप्टिकल ऑर्बिट है।00:05:07.759 और इसकी वजह यह है अब यह थोड़ा सा00:05:10.960 कॉम्प्लिकेटेड हो जाता है और यह आपको पता00:05:12.479 चलता है कि साइंस में जब हम कटिंग एज00:05:14.560 चीजों की बात करते हैं तो कितनी00:05:16.400 अनसर्टेनिटीज होती हैं। तो मिसाल के तौर00:05:18.720 पे एस्ट्रोनमर्स जो हैं वो दोबारा से00:05:20.479 उन्होंने उसको ऑब्जर्व करने की कोशिश की00:05:22.560 फरवरी 2025 में और उसके बाद आई थिंक00:05:25.759 अप्रैल या अगस्त 2025 में अभी रिसेंटली00:05:29.199 लेकिन वो उनको नजर नहीं आया। तो मुख्तलिफ00:05:33.680 चीजें उन्होंने डिटेक्ट करने की कोशिश की00:05:35.120 किस तरह से इसको एक्सप्लेन कर सकते हैं।00:05:37.039 बहुत सारे कंप्यूटर सिमुलेशंस उन्होंने00:05:39.280 चेक की और उससे लगता यह है कि शायद इस ये00:05:43.680 जो सयारा है इसका काफी इलिप्टिकल ऑर्बिट00:05:46.160 है और अब वो अपने सितारे के काफी करीब है।00:05:49.199 उसकी वजह से वो नजर नहीं आ रहा। तो इसकी00:05:52.240 फॉलो अप ऑब्जरवेशंस होंगी एकआध साल में00:05:55.120 दो-ती सालों में और फिर पता चलेगा कि क्या00:05:57.680 वाकई यह सयारा एकिस्ट करता है या नहीं।00:06:00.880 लेकिन जाने से पहले मैं एक दो चीजें कहता00:06:03.520 चलूं। इसकी जो अहमियत है, पहली बात तो यह00:06:06.639 है कि आपको पता है साइंस की जो00:06:07.919 अनसर्टेनिटीज हैं वो भी बहुत अहम होती00:06:10.400 हैं। यह मतलब नहीं कि हम उसको कहते हैं कि00:06:12.800 यार साइंस दान आज ये कहते हैं कल वो नहीं।00:06:15.120 इसको आपको कंफर्म करना पड़ता है। इसको डबल00:06:17.360 चेक करना पड़ता है। और वो एस्ट्रोनॉमर्स00:06:18.960 कर रहे हैं तो मेरे ख्याल में यह बड़ी00:06:20.960 अच्छी चीज है कि जब इन्होंने पेपर लिखे00:06:22.720 हैं, दो पेपर्स छपे हैं। उसमें उन्होंने00:06:24.639 काफी मोहतात होकर कहा है कि अभी हमें इसको00:06:27.680 अगले कुछ सालों में कंफर्म करना पड़ेगा।00:06:30.639 लेकिन एल की जो सेंटोरी स्टार सिस्टम है00:06:33.199 अगर आपने मूवीस देखी हैं एटार तो उसमें00:06:36.720 इमेजिन किया था कि यह वहां पर स्टार00:06:38.880 सिस्टम वहां पर मौजूद है। एक और साइंस00:06:42.400 फिक्शन में आर्थर सी क्लार्क ने भी00:06:44.560 सेंटोरी स्टार सिस्टम के गिर्द सयारों को00:06:46.800 इमेजिन किया था। और एक किताब जो मैं00:06:48.880 रेकमेंड करूंगा यह एक एंथ्रोपोलॉजिस्ट है00:06:52.160 मैरीडोरिया रसल। उन्होंने लिखी थी जिसका00:06:54.800 नाम था द उसका नाम था स्परो। और वो अगर00:06:58.400 आपको साइंस और रिलजन का आपको शौक है उसकी00:07:01.280 चीजों के देखने का तो वो बड़ा अच्छा नवेल00:07:03.520 था 1998 वगैरह में आया था 97 में और उसमें00:07:07.520 इमेजिन किया था कि वहां से साइंसदान जो है00:07:11.120 उन्होंने डिटेक्ट किया कोई गानों की आवाज00:07:13.759 आ रही है या कुछ सिंगिंग की आवाज आ रही है00:07:15.599 और फिर यहां से वो मिशन जो है वो सेंटोरी00:07:18.160 स्टार सिस्टम के करीब जाता है। उसकी00:07:20.080 सीक्वल भी है। वो नवेल तो मुझे मिल नहीं00:07:22.880 रहा। वो किसी को मैंने बोरो करने के लिए00:07:24.479 दिया हुआ था। लेकिन उसकी सीक्वल भी है00:07:26.319 चिल्ड्रन ऑफ गॉड। इसको आप बिल्कुल ना00:07:28.479 पढ़ें। स्परो जबरदस्त किताब है। जो उसका00:07:31.520 सीक्वल है वो इतना खराब है कि यह उसने जो00:07:34.160 ओरिजिनल स्परो जो नवेल था उसने उसको भी00:07:36.240 खराब कर दिया। लेकिन अगर वाकई वहां पर यह00:07:42.080 सयारा मौजूद है तो यह गैस जयंट है। क्या00:07:45.759 उस पर जिंदगी हो सकती है? गलब प्रोबेब्ली00:07:49.360 नहीं क्योंकि कम से कम वो जिंदगी जिसका हम00:07:52.319 एक्सपीरियंस रखते हैं वैसी तो नहीं। लेकिन00:07:55.360 हो सकता है कि उसके चांद हो। तो जिस तरह00:07:57.759 जुपिटर के भी चांद है, सैटर्न के भी चांद00:07:59.840 हैं। और क्योंकि यह ऑलरेडी हैबिटेबल ज़ोन00:08:02.560 में है। तो उन चांदों के ऊपर अगर पानी00:08:04.400 मौजूद है तो वो लिक्विड फॉर्म में हो सकता00:08:07.199 है। उसका चांदों का साइज क्या होगा इसके00:08:10.240 बारे में बहस है। शायद वो बड़े तो नहीं00:08:12.479 लेकिन सैटर्न का जिस तरह चांद है टाइटन00:08:14.720 शायद उस किस्म का चांद हो और शायद उनके00:08:17.919 ऊपर जिंदगी हो। और अगर इस किस्म की बात00:08:22.319 हुई तो एक लिहाज से आप सोच सकते हैं कि जब00:08:25.199 इंसान इंटरस्टेलर दूसरे सितारों की तरफ00:08:29.120 जाएंगे तो सेंटोरी स्टार सिस्टम क्योंकि00:08:31.199 सबसे करीबी स्टार सिस्टम है वहीं से हम00:08:34.479 शुरू करेंगे। तो एक लिहाज से यह बहुत ही00:08:36.799 दिलचस्प डिस्कवरी है। कंफर्म अभी तक फुली00:08:40.640 नहीं है। लेकिन कंप्यूटर मॉडल्स और जो00:08:43.200 ऑब्जरवेशंस अभी तक की है वो यही कहती हैं00:08:45.519 कि शायद यह प्लनेट वाकई या प्लनेट वाकई00:08:50.240 मौजूद है। इसके चांद है या नहीं वो पता00:08:52.800 नहीं। लेकिन अगर वो गैस जॉइंट है तो00:08:54.480 गालिबन उसके चांद भी होंगे क्योंकि हमारे00:08:57.040 अपने निजाम शमसी में जो गैस जॉइंट्स हैं00:08:58.959 उनके बहुत सारे चांद मौजूद हैं। तो इसके00:09:01.680 ऊपर फोकस करके रखें और अप्रिशिएट करें कि00:09:05.760 साइंस किस तरीके से इस किस्म की चीजों को00:09:09.279 पता करने का लगा रहे हैं और जेम्स वेब00:09:11.680 स्पेस टेलिस्कोप वो खाली दूर की कैकशाएं00:09:14.320 नहीं बल्कि वो करीब के सितारों को भी उसकी00:09:17.760 दिलचस्प ऑब्जरवेशंस कर रही है।`
            },

            {
                title: "Why is Mars red? Kainaat Kids",
                transcript: "00:00:01.340 [संगीत]00:00:12.639 अरोरा ब्यूटी00:00:18.480 क हसीन00:00:20.840 मनाजर खूबसूरत सुर्ख00:00:24.039 साहिल य00:00:27.880 दिलदार और सब00:00:31.360 मार्शन मेहमान00:00:33.920 नवाज तो फिर इंतजार किस बात का अभी अपने00:00:38.640 टिकट्स बुक करें और जिंदगी को मार्स के00:00:42.160 अंदाज में जी करर00:00:45.680 देखें किस किस तरह का आजकल फ्रॉड चल रहा00:00:49.120 है कोई बेचारा बहुत ही कुछ सीधा होगा जो00:00:52.320 इन बातों में फस जाए00:00:54.210 [संगीत]00:00:57.000 No text00:01:01.280 हेलो00:01:02.800 ओ ओहो ओहो ओहो00:01:07.640 जारा अब अब क्या हो गया आईमा00:01:12.560 आईमा मैं मार्स तक गई थी टीवी पे इश्तिहार00:01:17.320 देखा था मार्स के टूरिजम का अ कह रहे थे00:01:23.200 के खूबसूरत नीले आसमान होंगे हरे भरे बाग00:01:28.840 होंगे खूबसूरत लोग00:01:33.880 होंगे अच्छा और क्या यह सब वाकई में वहां00:01:38.680 पे00:01:39.439 था नहीं वहां के तो चांद भी आदू की तरह थे00:01:45.920 धोका हुआ है तुम्हारी सहेली के00:01:49.220 [संगीत]00:01:50.960 साथ आइमा एक दफा पूछ तो लेती जाने से पहले00:01:55.079 मुझसे मशवरा तो कर लिया होता00:01:59.310 [संगीत]00:02:00.000 No text00:02:00.520 मार्स द रेड00:02:03.360 प्लेनेट लाल सैयारा वैसे आपस की बात बताऊं00:02:08.598 मुझे कभी मार्स लाल रंग का नजर नहीं आया00:02:11.760 ये मुझे तो ऐसे ऑरेंज ऑरेंज सा ही थोड़ा00:02:14.000 सा दिखता है लेकिन चाहे मार्स ऑरेंज ऑरेंज00:02:17.120 स ही क्यों ना हो कम से कम जमीन से तो00:02:20.400 बिल्कुल ही डिफरेंट दिखता है ना तो इसकी00:02:23.319 क्या वजह है मार्स का रंग आखिर लाल क्यों00:02:27.599 है लेट्स गो फाइंड आउट00:02:30.959 यह सब कुछ मार्स की सरफेस पर मौजूद एक खास00:02:33.840 टाइप के मिनरल की वजह से होता है जिस00:02:36.360 मिनरल का नाम है आयरन ऑक्साइड जो कि आम00:02:39.760 जिंदगी में रस्ट या फिर जंग के नाम से भी00:02:42.640 जाना जाता है जी हां जनाब ये वही संग है00:02:46.640 जो कभी-कभी हमारे गेट पे या किसी भी और00:02:49.640 लोहे की चीज पर लग जाता है मार्स की सरफेस00:02:52.959 पर असल में बहुत ज्यादा आयरन मौजूद है जब00:02:55.840 यह आयरन ऑक्सीजन के साथ रिएक्ट करता है तो00:02:59.920 आयरन ऑक्साइड बनता है जो कि लाल लाल रंग00:03:03.319 का होता00:03:05.720 है और यही वजह है कि मार्स हमें लाल रंग00:03:10.000 का दिखाई देता है ट्स कल डॉक्टर00:03:14.400 जारा आपके00:03:16.879 लिए एक00:03:20.080 सवाल ना ना रुष क्या सारे सवाल मेरे से ही00:03:24.920 पूछोगे आज मैं तुमसे भी एक सवाल पूछूं00:03:28.360 क्या कभी तुमने सेब खाया है00:03:32.360 अ जी तो यह बताओ कि एक कटे हुए सेब को00:03:37.840 ज्यादा देर अगर हम बाहर रखें तो उसका रंग00:03:40.760 कैसा हो जाता00:03:42.599 है ऐसे ब्राउन सा होता है लाल से रंग00:03:46.040 का जी हां जनाब और क्या तुम्हें यह पता है00:03:50.120 कि वो यह कलर किस वजह से चेंज करता है00:03:54.280 अ क्योंकि वो खराब हो रहा होता है आई00:03:57.799 गेस उफ नहीं जी एक एप्पल भी उसी वजह से00:04:03.280 ब्राउन या लाल सा हो जाता है जिस वजह से00:04:06.480 मार्स ब्राउन या लाल सा है और वो है आयरन00:04:11.799 ऑक्साइड ओ00:04:14.000 वाओ इसका मतलब के क्या एप्पल के अंदर आयरन00:04:18.880 ऑक्साइड मौजूद होता है नहीं नहीं जी एप्पल00:04:22.759 में आयरन होता है और हमारी हवा में00:04:25.720 ऑक्सीजन तो जब एक कटे हुए एप्पल को ज्यादा00:04:29.400 देर हम बाहर रखेंगे तो उसके अंदर का आयरन00:04:33.160 हवा में मौजूद ऑक्सीजन से मिलकर आयरन00:04:36.199 ऑक्साइड बना देगा और इसी वजह से व ब्राउन00:04:40.199 सा कलर का हो जाएगा अब आई ना00:04:42.940 [संगीत]00:04:45.320 समझ नानू अब हम जूत ना जाए नहीं नहीं बेटा00:04:51.720 मैं तो सिर्फ ऑक्सिडाइज कर रही हूं अब मैं00:04:54.759 आपको य बताता चलू कि मार्स की जो हवा है00:04:55.000 No text00:04:57.840 वो जमीन की हवा से बिल्कुल मुख्तलिफ है00:05:01.400 मार्स के ऊपर एक तो भाई जो एटमॉस्फेयर है00:05:03.919 ना वो जमीन से कोई 100 गुना पतला है यानी00:05:08.360 कम डेंस है इसका मतलब यह है कि अगर आप00:05:11.240 मार्स पर जाके अपने घर का पंखा फुल स्पीड00:05:14.960 पर चला दे यानी घर वाला पंखा मार्स के घर00:05:18.639 पर लगा के फुल स्पीड में चला दे तो हवा00:05:21.759 कोई नहीं आनी00:05:22.919 आपको हवा इतनी कम है वहां पर डेंसिटी इतनी00:05:26.039 कम है और इसके अलावा जमीन के ऊपर पता है00:05:30.120 हमारी हवा में ऑक्सीजन है हम सांस लेते00:05:33.000 हैं भाई हमें पता है राइट ऑक्सीजन होती है00:05:35.960 लेकिन मार्स के ऊपर ज्यादातर एटमॉस्फियर00:05:40.720 में कार्बन डाइऑक्साइड00:05:43.039 है तो एक सेकंड अगर ऑक्सीजन नहीं है मार्स00:05:46.639 पर ज्यादा कार्बन डाइऑक्साइड00:05:49.360 है तो फिर आयरन ऑक्साइड कैसे बन जाता00:05:55.280 है डॉक्टर जारा ये क्या बात ई00:05:58.680 [संगीत]00:06:01.240 सवाल तो आपने बहुत अच्छा पूछा रन असल में00:06:05.160 साइंटिस्ट का यह ख्याल है कि आज से00:06:07.840 करोड़ों और अरबों साल पहले मार्स पे भी00:06:12.360 जमीन की तरह खूबसूरत दरिया चीले और समुंदर00:06:17.960 हुआ करते थे तो इसी तरह मार्स पर मौजूद00:06:21.440 आयरन वक्त के साथ-साथ ऑक्सीडो चला गया00:06:26.479 लेकिन पता नहीं फिर ऐसा क्या हुआ मार्स का00:06:30.360 यह पानी आहिस्ता आहिस्ता कम होता चला गया00:06:34.520 और आज उसकी सरफेस पर पानी का कोई भी नामो00:06:38.360 निशान नहीं है लेकिन य एक वाकई में बहुत00:06:42.520 इंटरेस्टिंग सवाल है जिसका पूरा जवाब अभी00:06:45.680 तक साइंस दानों को नहीं पता शायद कल को आप00:06:50.199 जी जी आप ही की बात कर रही हूं इस सवाल का00:06:54.280 मुकम्मल जवाब तलाश कर00:06:56.810 [संगीत]00:06:58.520 पाएंगे गाड़ियां चलती फिरती छोटी बड़ी00:06:59.000 No text00:07:03.479 गाड़ियां भाई मरी के ऊपर जितने हमने00:07:07.560 गाड़ियां भेजी है ना जितने मिशंस रोवर00:07:10.000 वाले भेजे हैं उतने हमने और किसी प्लेनेट00:07:12.000 में नहीं भेजे तो मार्स के ऊपर एक्चुअली00:07:15.199 जो मिशंस मार्स को देखने गए एक्सप्लोर00:07:17.639 करने गए मेरा एस्ट्रोनॉमी का शौक वहीं से00:07:21.919 उन्हीं तस्वीरों को देख के आया तो 199700:07:26.520 में जब मैं बहुत छोटा सा नन्ना मुन्ना00:07:29.919 बच्चा होता था तब मार्स के ऊपर एक लैपटॉप00:07:33.479 के साइज जितनी गाड़ी भेजी गई जो पहली00:07:35.520 गाड़ी मार्स के ऊपर भेजी गई थी उसका नाम00:07:37.199 था सोजर्नर रोवर और उस छोटी सी गाड़ी ने00:07:40.919 कुछ महीने मार्स प गुजारने के बाद वो अपना00:07:43.720 उसका मिशन खत्म हो गया और उसने कुछ चीजें00:07:46.159 वहां पर डिस्कवर की फिर कुछ साल बाद 200400:07:50.319 में दो थोड़ी सी बड़ी गाड़ियां स्पिरिट और00:07:54.440 अपॉर्चुनिटी रोवर्स मार्स पर भेजे गए और00:07:57.639 वो तो काफी सालों तक मार्क्स के ऊपर चलते00:08:00.720 रहे ट्रेवल करते रहे और बड़ी मजेदार किस्म00:08:03.199 की अच्छी-अच्छी इंटरेस्टिंग बिग डिस्कवरीज00:08:06.560 उन्होंने मार्स पे की अब यहां तक साइंस00:08:09.319 दानों का ना एक कॉन्फिडेंस बन गया था कि00:08:11.560 भाई हमें पता है कि मार्स के ऊपर गाड़ियां00:08:13.960 कैसे भेजनी है और मार्स के ऊपर कैसे गाड़ी00:08:16.440 चलाते हैं तो उन्होंने फिर इससे भी00:08:18.759 बड़ी-बड़ी साइज की गाड़ियां मार्स प भेजनी00:08:21.639 शुरू कर दी 2012 में बहुत ही जबरदस्त मिशन00:08:25.759 क्यूरियोसिटी रोवर मार्स के ऊपर लैंड किया00:08:28.360 और साथ ही 2000 20 में लॉन्च किया गया00:08:31.479 मार्स पर्स विरेंस रोवर जो कि 2021 में00:08:34.599 मार्स के ऊपर पहुंचा ये दोनों बहुत ही00:08:37.240 बड़ी बड़े रोवर्स बड़े-बड़े साइज जितनी00:08:39.519 गाड़ियां थी मार्स के ऊपर और इन्होंने00:08:41.440 वहां पर खुश्क दरिया पहाड़ चट्टाने पत्थर00:08:46.080 पता नहीं क्या कुछ देखा उन्होंने वहां पे00:08:49.160 तो मार्स के ऊपर गाड़ियां तो हम भेज रहे00:08:52.680 हैं लेकिन फ्यूचर में ख्याल है कि आप मैं00:08:58.320 हम इंसान00:09:00.079 मार्स के ऊपर जा सकते हैं तो क्या आप00:09:05.240 मार्स पर जाना00:09:08.120 [संगीत]00:09:10.040 चाहेंगे काय नाती00:09:11.000 No text00:09:15.399 टुकड़ा मार्स के ऊपर अक्सर डस्ट स्टॉर्म्स00:09:19.440 आती रहती है हवाएं चलती है जिनसे मार्स के00:09:22.200 ऊपर मौजूद डस्ट हवा में उछल जाती है और यह00:09:25.480 डस्ट स्टम्स इतनी स्ट्रांग भी होती है कि00:09:28.600 यह पूरे मरी पूरे प्लेनेट को कवर कर लेती00:09:32.519 हैं डस्ट से जी हां और इन डस्ट स्टॉर्म्स00:09:35.720 की वजह से कुछ पास के मिशंस भी मार्स के00:09:39.079 ऊपर फेल हुए जो सोलर एनर्जी पर डिपेंड00:09:42.440 करते थे और पूरी ग्लोबल डस्ट स्टॉर्म की00:09:45.079 वजह से उन बेचारे रोवर्स के सोलर पैनल्स00:09:47.880 पर लाइट नहीं पड़ी उनकी इलेक्ट्रिसिटी00:09:49.959 पैदा नहीं हुई और वो बेचारे वहीं पर सो गए00:09:54.640 तो यह ग्लोबल डस्ट स्टॉर्म्स का फिनोमिना00:09:58.560 मार्स के पर होता रहता है ओ मार्स ते00:10:02.800 ग्लोबल डस्ट स्टोमा आगने ते छा00:10:07.920 गने आ00:10:13.200 करके आपका00:10:14.940 [संगीत]00:10:15.000 No text00:10:17.600 अमान हेलो कनाथ किड्स आपने आसमान में हंटर00:10:22.200 तो देखा होगा लेकिन क्या आपने आसमान में00:10:25.000 एक स्कॉर्पियो देखा है जी हां इस महीने00:10:28.600 रात भर आपको आसमान में एक स्कॉर्पियो00:10:31.640 दिखेगा कुछ इस तरह00:10:34.519 का जिस तरह विंटर की सबसे फेमस कंसोलेशन00:10:39.120 है ओरायन द हंटर कुछ उसी तरह हमारे00:10:42.800 गर्मियों में जो सबसे फेमस कंसोलेशन है वह00:10:45.800 है स्कॉर्पियो और उसका सबसे चमकीला तारा00:10:49.200 एंटस आप बड़े ही आसानी से निकाल सकते हैं00:10:52.519 क्योंकि वह सबसे तेज चमकता00:10:56.120 है क सी बदर00:11:00.000 No text00:11:01.079 आपका आपका आपका00:11:07.320 सवाल आज के सवाल में अनिल तारक हमसे कहते00:11:10.519 हैं कि माय डॉटर लाइक्स योर वीडियोस वेरी00:11:12.839 मच शी आस्क मी अबाउट ऑब्जर्वेशन ऑफ द00:11:15.240 स्काई थ्रू टेलिस्कोप सो डू यू हैव एनी00:11:17.440 फैसिलिटी फॉर किड्स टू इंटरटेन देम थ्रू00:11:19.680 टेलिस्कोप इन कराची वेल आपके सवाल का बहुत00:11:23.120 शुक्रिया और आपकी बेटी और आपका हमारी00:11:25.680 वीडियोस को इतनी दिलचस्पी से देखने का भी00:11:27.839 बहुत ज्यादा शुक्रिया वेल हेलो बेटा हमें00:11:31.519 भी आपकी तरह टेलिस्कोप से देखने का बहुत00:11:33.800 शौक है और आप तो बहुत लकी हैं कि कराची00:11:37.120 जैसे शहर में एस्ट्रोन अस की एक बहुत00:11:39.600 अच्छी कम्युनिटी है जिसका नाम है कराची00:11:42.160 एस्ट्रोन सोसाइटी आप इनको00:11:59.320 तो हम उम्मीद करते हैं कि आप इनके फ्यूचर00:12:02.480 किसी इवेंट का जरूर हिस्सा00:12:04.880 बनेंगे प्लीज जॉइन अस तो इस एपिसोड में00:12:08.000 No text00:12:08.920 हमने बात की मार्स के बारे में मार्स का00:12:11.839 कलर रेड क्यों है आयरन ऑक्सीडेशन का क्या00:12:15.519 मतलब है और इसके अलावा मार्स के ऊपर भेजे00:12:19.079 गए कौन-कौन से मिशंस हैं जिन्होंने मार्स00:12:21.199 को एक्सप्लोर किया उसके बाद हमने मार्स की00:12:24.160 ग्लोबल डस्ट स्टॉर्म्स की बात की आपके00:12:26.600 आसमान में क्या-क्या नजर आएगा उसको देखा00:12:29.279 और आपके सवाल में कराची एस्ट्रोन मर00:12:31.880 सोसाइटी का जिक्र00:12:33.839 किया तो इसी के साथ अपना बहुत ख्याल रखें00:12:38.120 और इस बड़ी सी फैलती हुई शानदार और00:12:41.680 जबरदस्त कायनात में अगली कायनात किड्स00:12:44.720 खबरों तक क्या करना चाहिए आपको क्या करना00:12:47.480 चाहिए हम सबको इंतजार करना चाहिए00:12:51.740 [संगीत]00:13:12.160 ब00:13:13.770 [संगीत]"

            }
        ];

        // Store generated outputs for later use
        let generatedBlueprint = '';
        let generatedSlides = '';
    let lastFormData = null; // store last used form data for regenerations

        // Initialize the page
        function init() {
            const videoSelect = document.getElementById('videoSelect');
            
            // Populate dropdown with video options
            videos.forEach((video, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = video.title;
                videoSelect.appendChild(option);
            });
        }

        // Get form data
        function getFormData() {
            const videoIndex = document.getElementById('videoSelect').value;
            const ageGroup = document.getElementById('ageGroup').value;
            const sessionDuration = document.getElementById('sessionDuration').value;
            const activityDuration = document.getElementById('activityDuration').value;
            const additionalNotes = document.getElementById('additionalNotes').value;

            if (!videoIndex) {
                alert('Please select a video');
                return null;
            }

            return {
                video: videos[videoIndex],
                ageGroup,
                sessionDuration,
                activityDuration,
                additionalNotes
            };
        }

        // Generate Session Blueprint (First button)
        async function generateSessionBlueprint() {
            const formData = getFormData();
            if (!formData) return;
            lastFormData = formData;

            const btn = document.getElementById('generateBtn1');
            const output = document.getElementById('output1');
            const content = document.getElementById('blueprintContent');

            // Show loading state
            btn.disabled = true;
            btn.textContent = 'Generating...';
            content.innerHTML = '<div class="loading"><div class="spinner"></div>Generating your session blueprint...</div>';
            output.classList.add('visible');

            try {
                // Call lesson plan generator
                const result = await generateLessonPlan(formData);
                generatedBlueprint = result;

                // Display result as rendered HTML
                content.innerHTML = result;
                btn.textContent = '✓ Blueprint Generated';
                
                // Show next button
                document.getElementById('generateBtn2').classList.remove('hidden');
                
            } catch (error) {
                content.textContent = 'Error generating blueprint. Please try again.';
                btn.disabled = false;
                btn.textContent = 'Generate Session Blueprint';
            }
        }

        // Generate Presentation Outline (Second button)
        async function generatePresentationOutline() {
            const formData = getFormData();
            if (!formData) return;
            lastFormData = formData;

            const btn = document.getElementById('generateBtn2');
            const output = document.getElementById('output2');
            const content = document.getElementById('slidesContent');

            // Show loading state
            btn.disabled = true;
            btn.textContent = 'Generating...';
            content.innerHTML = '<div class="loading"><div class="spinner"></div>Generating your presentation outline...</div>';
            output.classList.add('visible');

            try {
                // Call slide outline generator
                const result = await generateSlideOutline(formData, generatedBlueprint);
                generatedSlides = result;

                // Display result as rendered HTML
                content.innerHTML = result;
                btn.textContent = '✓ Presentation Generated';
                
                // Show next button
                document.getElementById('generateBtn3').classList.remove('hidden');
                
            } catch (error) {
                content.textContent = 'Error generating presentation. Please try again.';
                btn.disabled = false;
                btn.textContent = 'Generate Presentation Outline';
            }
        }

        // Generate Activity Outline (Third button)
        async function generateActivityOutline() {
            const formData = getFormData();
            if (!formData) return;

            lastFormData = formData;

            const btn = document.getElementById('generateBtn3');
            const output = document.getElementById('output3');
            const content = document.getElementById('activityContent');

            // Show loading state
            btn.disabled = true;
            btn.textContent = 'Generating...';
            content.innerHTML = '<div class="loading"><div class="spinner"></div>Generating your activity plan...</div>';
            output.classList.add('visible');

            try {
                // Call activity plan generator
                const result = await generateActivityPlan(formData, generatedBlueprint, generatedSlides);

                // Display result as rendered HTML
                content.innerHTML = result;
                btn.textContent = '✓ Activity Plan Generated';
                
            } catch (error) {
                content.textContent = 'Error generating activity plan. Please try again.';
                btn.disabled = false;
                btn.textContent = 'Generate Activity Plan';
            }
        }

        // Backend placeholder functions (to be replaced with actual API calls)

        /**
         * Generate lesson plan based on video transcript and user inputs
         * @param {Object} formData - Contains video, ageGroup, sessionDuration, etc.
         * @returns {Promise<string>} Generated lesson plan text
         */
        async function generateLessonPlan(formData) {
            try {
                const prompt = `
You are an expert STEM educator designing classroom-ready outreach session blueprints of space and science awareness for Kainaat Studios Ambassadors. 
Your job is to generate a structured, practical, and interactive session plan based on the provided topic, 
video transcript, and session details.

The goal is to create a broader, educational session — not just a retelling of the specific video topic. 
The lesson should introduce relevant background ideas first, then gradually move toward the main video concept.

---

Context:
- Topic title: ${formData.video.title}
- Transcript: transcript can be in other language, YET your output must be in english "${formData.video.transcript}"
- Age group / Audience: ${formData.ageGroup} -- Pakistani audience
- Duration of session (in minutes): ${formData.sessionDuration}
- Additional notes (if any): ${formData.additionalNotes}
 LESSON PLAN REQUIREMENTS:


1. Structure
   - Divide the lesson into clear segments (Opening, Concept 1, Concept 2…..etc, Recap and Q&A, Promotion of Kainaat Studios at end where ambassador promotes our YouTube video shown and our channels).
   - Each segment should include:
     - **Estimated Time (minutes)**
     - **Description** — what the speaker says or explains (exact lines)
     - **Questions to ask** to engage students (exact)
     - **Clip or Visual Cue (if any)** — refer to 30s–1min clip timestamps from transcript
     - **Side Notes for Speaker** — notes about tone, visuals, or optional images

2. Tone & Style
   - Keep language simple and age-appropriate based on the input audience.
   - Make the session interactive (include questions, hands-on cues, or prompts for participation).
   - Keep pacing realistic (make sure total time ≈ given duration).

3. **Video Clip Integration**
   - Examine the transcript timestamps and content.
   - Select short (30s–1min) video clip suggestions that align with key points.
   - Include a maximum of **4 clips** total, or depending on session length.
   - Example: “Show clip from 03:15–04:00 where the host explains lunar shadow movement.”

4. **Visual/Media Suggestions**
   - Suggest **images** where relevant (e.g., “Show an image of the Milky Way here,” “Display a galaxy diagram”).
   - Clips and images should help comprehension.

5. **Output Formatting**
   - Output in plain text, **not a table**.
   - Use clear hierarchy and formatting like:

     Example format:
     
     Opening (5 min) 
     ----------------
     [ATLEAST 5 SAYS, DEPENDING ON THE TIME]
     - Say: “Today, we’ll explore how light travels across space and how telescopes help us see distant galaxies…”
     - Say: “Light from these galaxies takes millions of years to reach us, so we’re seeing them as they were in the past.”
     - Say: “This means we’re looking back in time!”

     Questions:
     - What do you think happens to light when it travels for millions of years?
     - Has anyone seen a telescope before?

     Clip Suggestion:
     Show clip from 00:00–00:45 where the video introduces the concept of light from galaxies.

     Side Notes:
     Draw light-path diagram on board.
     Maintain excitement and curiosity in tone.
     

6. **Scope**
   - Begin broadly (teach about the general idea: e.g., galaxies, light, eclipses).
   - Because the video itself would be very specific 
   - End with a short recap and encouragement for audience curiosity.

7. **Kainaat Studios Promotion**
   - End by telling you can find the fulll video on our channel and a brief introduction of Kainaat Studios as an space and science youtube channels for in diff languages”

---


### OUTPUT:
Provide a complete text-based lesson plan following the above structure, suitable for a {{lesson_duration}} minute classroom session led by an ambassador.`;
                // Call Gemini API
                const result = await callGeminiAPI(prompt);
                return result;
                
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                throw error;
            }
        }

        /**
         * Generate slide outline based on lesson plan
         * @param {Object} formData - Form input data
         * @param {string} lessonPlan - Previously generated lesson plan
         * @returns {Promise<string>} Generated slide outline
         */
        async function generateSlideOutline(formData, lessonPlan) {
            try {
                const prompt = `You are an expert space and science educator and presentation designer. 
Your task is to create a clear, coherent presentation slide outline that perfectly aligns with the given lesson plan.

Context:
- Topic: ${formData.video.title}
- Lesson Plan Text: ${lessonPlan}
- Age group / Audience: ${formData.ageGroup} -- Pakistani audience
- Duration of session (in minutes): ${formData.sessionDuration}


---

### OUTPUT GOAL:
Create a **presentation slide outline** that:
- Directly mirrors the structure, flow, and key talking points of the provided lesson plan.
- Ensures every major **segment or sub-topic** in the lesson plan is represented by one or more slides.
- Should be as long as the duration 
- Uses simple, numbered slide formatting (e.g., “Slide 1,” “Slide 2,” etc.).
- Highlights what should appear visually, not full script text.

---

### STRUCTURE REQUIREMENTS:

For each slide, include:
1. **Slide Title** – clear and engaging
2. **Main Content Points** – concise bullet points (from the lesson plan content) (max 3)
3. **Media Cues** – indicate if an image, diagram, or video clip (with timestamp) should be displayed  
   (use the same clips/images suggested in the lesson plan to maintain coherence)

---

### STYLE AND CONSISTENCY:

- The slide outline should *not* restate the entire lesson plan, only the **visual summary** of it.
- Use simple, visually clean phrasing suitable for a PowerPoint or Google Slides format.
- Ensure **perfect coherence** with the lesson plan:
  - If the lesson plan has 5 segments, there should be 5–10 slides total (depending on depth).
  - Each slide should reinforce what the speaker is saying during that segment.
- For any **video clip** in the lesson plan, clearly write:
  “Insert video clip from {{timestamp_start}}–{{timestamp_end}}”
- For any **image** cue in the lesson plan, write:
  “Display image of [object/topic]”

---

### EXAMPLE FORMAT:

Slide 1: Introduction — What Are Galaxies?
Main Points:
* Galaxies are vast systems of stars, gas, and dust.
* The Milky Way is the galaxy we live in.
* Telescopes like James Webb help us explore faraway galaxies.
Media Cue:
* Show image of Milky Way.
* Insert short video clip from 00:00–00:40 (lesson introduction).

### OUTPUT FORMAT:
Plain text, no tables or JSON.
Use clear “Slide X:” headers and dashes for separation.

---

### OUTPUT SUMMARY:
Produce a full slide outline coherent with the entire provided lesson plan.
Include:
- Approx. 1–2 slides per lesson segment.
- Consistent use of visuals (images/diagrams/clips) mentioned in the lesson.
- Smooth flow and clear audience engagement cues.`;

                // Call Gemini API
                const result = await callGeminiAPI(prompt);
                return result;
                
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                throw error;
            }
        }

        /**
         * Generate activity plan based on previous outputs
         * @param {Object} formData - Form input data
         * @param {string} lessonPlan - Previously generated lesson plan
         * @param {string} slideOutline - Previously generated slide outline
         * @returns {Promise<string>} Generated activity plan
         */
        async function generateActivityPlan(formData, lessonPlan, slideOutline) {
            try {
                const prompt = `You are an educational content designer tasked with generating an engaging, low-resource activity plan based on a given lesson plan and target audience.
                                Generate a classroom activity plan that complements the provided lesson plan and fits the target audience’s level.
Based on this lesson plan:

LESSON PLAN: "${lessonPlan}"
Activity Duration: ${formData.activityDuration}
_________
Output Structure (follow this exactly)
1. Activity Overview (2–3 lines)

Give a short and engaging description of the activity — what it is, and how it connects to the lesson plan’s learning objectives.

2. Prerequisite Materials (bullet list)

List only low-resource or commonly available materials.
Example: paper, pens, projector, printed handouts, board, markers, etc.
If the activity can be done with zero materials, state: “None required.”

3. Step-by-Step Procedure (comprehensive list)

Clearly explain how the activity should be performed in steps.

Keep steps concise, but descriptive enough that a teacher can understand 

Include interaction cues (e.g., “ask students to...”, “divide into groups...”, "recap this segment from the lesson plan”).

mention time suggestions per step

At the end, propose a short slide sequence that visually supports the activity, just give content to include, visual things if any
Slide 1,2: Activity Title + Objective  
Slide 3,4: Instructions + Key Prompts  

Note:
Ensure 100% coherence with the provided lesson plan — the activity must reinforce its main concepts.

Make it age-appropriate (avoid overly childish tasks like coloring for older students).

Focus on engagement, participation, and learning application, not just repetition.

Keep the plan short, clear, and classroom-practical.


Create a detailed HANDS-ON ACTIVITY PLAN for "${formData.video.title}".
`;

                // Call Gemini API
                const result = await callGeminiAPI(prompt);
                return result;
                
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                throw error;
            }
        }

        // Copy to clipboard functionality
        function copyToClipboard(type) {
            let content;
            
            switch(type) {
                case 'blueprint':
                    content = document.getElementById('blueprintContent').innerText;
                    break;
                case 'slides':
                    content = document.getElementById('slidesContent').innerText;
                    break;
                case 'activity':
                    content = document.getElementById('activityContent').innerText;
                    break;
            }

            navigator.clipboard.writeText(content).then(() => {
                alert('Copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        // Regenerate handlers - call the original generate* functions so prompts remain exactly the same
        async function regenerateBlueprint() {
            if (!lastFormData) { alert('Please fill the form and generate the blueprint first before regenerating.'); return; }

            // Reset dependent outputs (slides & activity) because they rely on the blueprint
            generatedSlides = '';
            document.getElementById('slidesContent').innerHTML = '';
            document.getElementById('activityContent').innerHTML = '';
            document.getElementById('output2').classList.remove('visible');
            document.getElementById('output3').classList.remove('visible');
            // hide subsequent generate buttons so user must re-generate
            document.getElementById('generateBtn2').classList.add('hidden');
            document.getElementById('generateBtn3').classList.add('hidden');

            // Ensure form fields reflect lastFormData so the same prompt inputs are used
            try {
                const videoIndex = videos.findIndex(v => v.title === lastFormData.video.title);
                if (videoIndex >= 0) document.getElementById('videoSelect').value = videoIndex;
                document.getElementById('ageGroup').value = lastFormData.ageGroup || '';
                document.getElementById('sessionDuration').value = lastFormData.sessionDuration || '';
                document.getElementById('activityDuration').value = lastFormData.activityDuration || '';
                document.getElementById('additionalNotes').value = lastFormData.additionalNotes || '';
            } catch (e) {
                console.warn('Could not restore form values before regenerating blueprint', e);
            }

            // Call the same generation flow used initially
            await generateSessionBlueprint();
        }

        async function regenerateSlides() {
            if (!generatedBlueprint) {
                alert('Please generate the session blueprint first before regenerating slides.');
                return;
            }

            // Ensure form fields reflect lastFormData to make prompts identical
            try {
                const videoIndex = videos.findIndex(v => v.title === lastFormData?.video.title);
                if (videoIndex >= 0) document.getElementById('videoSelect').value = videoIndex;
                document.getElementById('ageGroup').value = lastFormData?.ageGroup || '';
                document.getElementById('sessionDuration').value = lastFormData?.sessionDuration || '';
                document.getElementById('activityDuration').value = lastFormData?.activityDuration || '';
                document.getElementById('additionalNotes').value = lastFormData?.additionalNotes || '';
            } catch (e) {
                console.warn('Could not restore form values before regenerating slides', e);
            }

            // Call the original generation function for slides (keeps prompt exact)
            await generatePresentationOutline();
        }

        async function regenerateActivity() {
            if (!generatedBlueprint) {
                alert('Please generate the session blueprint first before regenerating activity.');
                return;
            }

            // If slides were generated earlier, keep them; activity can be generated independently
            try {
                const videoIndex = videos.findIndex(v => v.title === lastFormData?.video.title);
                if (videoIndex >= 0) document.getElementById('videoSelect').value = videoIndex;
                document.getElementById('ageGroup').value = lastFormData?.ageGroup || '';
                document.getElementById('sessionDuration').value = lastFormData?.sessionDuration || '';
                document.getElementById('activityDuration').value = lastFormData?.activityDuration || '';
                document.getElementById('additionalNotes').value = lastFormData?.additionalNotes || '';
            } catch (e) {
                console.warn('Could not restore form values before regenerating activity', e);
            }

            await generateActivityOutline();
        }

        // Initialize on page load
        window.onload = init;
    </script>
</body>
</html>